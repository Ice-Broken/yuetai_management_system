{"remainingRequest":"C:\\Users\\Rick\\Desktop\\yuetai_management_system\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\Rick\\Desktop\\yuetai_management_system\\frontend\\src\\views\\user\\student-score.vue?vue&type=template&id=63139a54&scoped=true","dependencies":[{"path":"C:\\Users\\Rick\\Desktop\\yuetai_management_system\\frontend\\src\\views\\user\\student-score.vue","mtime":1686031785000},{"path":"C:\\Users\\Rick\\Desktop\\yuetai_management_system\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1688620975546},{"path":"C:\\Users\\Rick\\Desktop\\yuetai_management_system\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688620971327},{"path":"C:\\Users\\Rick\\Desktop\\yuetai_management_system\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1688620975546}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiB2LWlmPSJpc1dhdGNoID09ICd0cnVlJyI+CiAgICA8ZWwtdGFibGUgOmRhdGE9ImRhdGEiIHN0eWxlPSJ3aWR0aDogMTAwJSI+CiAgICAgIDxlbC10YWJsZS1jb2x1bW4gcHJvcD0ia2V5IiBsYWJlbD0i6K+05piOIiB3aWR0aD0iMjAwIj4gPC9lbC10YWJsZS1jb2x1bW4+CiAgICAgIDxlbC10YWJsZS1jb2x1bW4gcHJvcD0idmFsdWUiIGxhYmVsPSLnu5PmnpwiIHdpZHRoPSIyMDAiPiA8L2VsLXRhYmxlLWNvbHVtbj4KICAgIDwvZWwtdGFibGU+CiAgICA8ZWwtYnV0dG9uIHR5cGU9InByaW1hcnkiIGljb249ImVsLWljb24tZG93bmxvYWQiIEBjbGljaz0ibG9nIgogICAgICA+5omT5Y2w5oiQ57upPC9lbC1idXR0b24KICAgID4KICAgIDxlbC1jYXJkIGNsYXNzPSJib3gtY2FyZCIgdi1pZj0iaXNTaG93Ij4KICAgICAgPHRlbXBsYXRlICNoZWFkZXI+CiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1oZWFkZXIiPgogICAgICAgICAgPHNwYW4+5LiL6L295oiQ57upPC9zcGFuPgogICAgICAgICAgPGVsLWJ1dHRvbiBjbGFzcz0iYnV0dG9uIGNsb3NlIiB0eXBlPSJ0ZXh0IiBAY2xpY2s9ImlzU2hvdyA9IGZhbHNlIgogICAgICAgICAgICA+5YWz6ZetPC9lbC1idXR0b24KICAgICAgICAgID4KICAgICAgICA8L2Rpdj4KICAgICAgPC90ZW1wbGF0ZT4KICAgICAgPGRpdiBjbGFzcz0idGV4dCBpdGVtIj4KICAgICAgICA8YSA6aHJlZj0ic3RvcmUuc3RhdGUuZXhjZWwgKyB1cmwgKyAnLnhsc3gnIj7ngrnlh7vkuIvovb3miJDnu6k8L2E+CiAgICAgIDwvZGl2PgogICAgPC9lbC1jYXJkPgogICAgPGRpdiBjbGFzcz0iYWxlcnQiIHYtaWY9ImlzU2hvdyI+PC9kaXY+CiAgPC9kaXY+CiAgPGgxIHYtZWxzZT7nm67liY3npoHmraLlr5/nnIvmiJDnu6k8L2gxPgo="},{"version":3,"sources":["C:\\Users\\Rick\\Desktop\\yuetai_management_system\\frontend\\src\\views\\user\\student-score.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACxC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB;IACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACf,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAChE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACf;QACF,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACxD,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACxC,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/Rick/Desktop/yuetai_management_system/frontend/src/views/user/student-score.vue","sourceRoot":"","sourcesContent":["<template>\n  <div v-if=\"isWatch == 'true'\">\n    <el-table :data=\"data\" style=\"width: 100%\">\n      <el-table-column prop=\"key\" label=\"说明\" width=\"200\"> </el-table-column>\n      <el-table-column prop=\"value\" label=\"结果\" width=\"200\"> </el-table-column>\n    </el-table>\n    <el-button type=\"primary\" icon=\"el-icon-download\" @click=\"log\"\n      >打印成绩</el-button\n    >\n    <el-card class=\"box-card\" v-if=\"isShow\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>下载成绩</span>\n          <el-button class=\"button close\" type=\"text\" @click=\"isShow = false\"\n            >关闭</el-button\n          >\n        </div>\n      </template>\n      <div class=\"text item\">\n        <a :href=\"store.state.excel + url + '.xlsx'\">点击下载成绩</a>\n      </div>\n    </el-card>\n    <div class=\"alert\" v-if=\"isShow\"></div>\n  </div>\n  <h1 v-else>目前禁止察看成绩</h1>\n</template>\n<script setup>\nimport { ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport api from \"@/modules/api\";\nimport teacherPrint from \"@/modules/teacher/teacher-print\";\n\nlet store = useStore();\nlet url = ref(\"\");\nlet tableData = ref([]);\nlet all = ref(0);\nlet gpa = ref(0);\nlet num = ref(0);\n\nlet data = ref([]);\napi(`select * from achievement where stucode='${localStorage.student}'`).then(\n  (res) => {\n    tableData.value = res.res;\n    let value = Object.values(res.res[0]).slice(2, 8);\n    value.forEach((item, index) => {\n      if (+item) {\n        all.value += +item;\n        num.value++;\n      }\n      if (+item > 90) {\n        gpa.value += 4;\n      } else if (+item > 80) {\n        gpa.value += 3;\n      } else if (+item > 70) {\n        gpa.value += 2;\n      } else if (+item > 60) {\n        gpa.value += 1;\n      }\n    });\n    let key = [\n      \"学号\",\n      \"姓名\",\n      \"VUE\",\n      \"Node.js\",\n      \"马克思\",\n      \"创新\",\n      \"MysSQL\",\n      \"高等数学\",\n      \"平局绩点\",\n      \"平均分\",\n      \"总分\",\n    ];\n    let values = Object.values(tableData.value[0]).slice(0, 8);\n    values.push((gpa.value / num.value).toFixed(2));\n    values.push((all.value / num.value).toFixed(2));\n    values.push(all.value);\n    key.forEach((item, index) => {\n      data.value.push({\n        key: item,\n        value: values[index],\n      });\n    });\n  }\n);\n\nlet isShow = ref(false);\nfunction log() {\n  let data = [];\n  data.push([\n    \"姓名\",\n    \"学号\",\n    \"VUE\",\n    \"Node.js\",\n    \"马克思主义哲学\",\n    \"创新与实践\",\n    \"MySQL\",\n    \"高等数学\",\n    \"总分\",\n  ]);\n  let newData = Object.values(tableData.value[0]);\n  newData[8] = all.value;\n  data.push(newData);\n  let print = {\n    name: localStorage.student + \"同学的成绩单\",\n    data: data,\n  };\n  teacherPrint({ data: print }).then((res) => {\n    isShow.value = true;\n    url.value = print.name;\n  });\n}\n\nlet isWatch = ref(\"\");\napi(`select * from isshow`).then((res) => {\n  isWatch.value = res.res[0].watch;\n});\n</script>\n<style scoped lang='scss'>\n.box-card {\n  width: 500px !important;\n  height: 400px !important;\n  position: fixed;\n  top: 200px;\n  left: calc((100vw - 500px) / 2);\n  z-index: 99999;\n}\n.close {\n  float: right;\n}\n.alert {\n  width: 100vw;\n  height: 100vh;\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  background-color: rgba(0, 0, 0, 0.3);\n  z-index: 9999;\n}\n</style>"]}]}